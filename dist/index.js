!function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=0)}([function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,a){function i(e){try{u(n.next(e))}catch(e){a(e)}}function c(e){try{u(n.throw(e))}catch(e){a(e)}}function u(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(i,c)}u((n=n.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){var r,n,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(a){return function(c){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}},a=this&&this.__values||function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],r=0;return t?t.call(e):{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}}},i=this;Object.defineProperty(t,"__esModule",{value:!0});var c=r(1);function u(e,t){if(t&&/^(fields)|(layers)|(tables)|(codedValues)$/.test(t))return function(e,t){var r,n,o=document.createElement("table");t&&o.classList.add("property--"+t);var i=o.createTHead().insertRow(),u=o.createTBody(),s=new Set;try{for(var d=a(e),f=d.next();!f.done;f=d.next()){var p=f.value;for(var h in p)p.hasOwnProperty(h)&&s.add(h)}}catch(e){r={error:e}}finally{try{f&&!f.done&&(n=d.return)&&n.call(d)}finally{if(r)throw r.error}}return s.forEach(function(e){var t=document.createElement("th");t.innerText=e,i.appendChild(t)}),e.forEach(function(e){var t=u.insertRow();s.forEach(function(r){var n=e[r],o=t.insertCell();if("name"===r&&e.hasOwnProperty("id")){var a=document.createElement("a"),i=c.getServiceUrl(),u=new URL(location.href);u.searchParams.set("url",i+"/"+e.id),a.href=u.toString(),a.innerText=n,o.appendChild(a)}else if("domain"===r){var s=l(n);s&&o.appendChild(s)}else o.innerText=n})}),u.childElementCount?o:null}(e,t);if(t&&/^(folders)|(services)/.test(t)){var r=document.createElement("ul");return e.forEach(function(e){var t=document.createElement("a"),n=new URLSearchParams({url:e.url});t.href=new URL("?"+n.toString(),location.href).toString(),t.textContent=e.name;var o=document.createElement("li");o.appendChild(t),r.appendChild(o)}),r}if("color"===t){e[3]=e[3]/255;var n="rgba("+e.join(",")+")",o=document.createElement("span");return o.style.color=n,o.innerText=n,o}var i=document.createElement("ul");return t&&i.classList.add("property--"+t),e.map(function(e){var t=l(e);if(t){var r=document.createElement("li");return r.appendChild(t),r}}).filter(function(e){return void 0!==e}).forEach(function(e){return i.appendChild(e)}),i}function l(e,t){if(null==e)return document.createTextNode(null===e?"null":"undefined");if(Array.isArray(e))return u(e,t);if("boolean"==typeof e)return document.createTextNode(e?"true":"false");if(/^(string)|(number)$/.test(typeof e)||e instanceof Date)return document.createTextNode(""+e);var r=document.createElement("dl");for(var n in e)if(e.hasOwnProperty(n)){var o=e[n],a=document.createElement("dt");a.innerText=n;var i=document.createElement("dd"),c=l(o,n);c&&i.appendChild(c),[a,i].forEach(function(e){return r.appendChild(e)})}return r}function s(e){return n(this,void 0,void 0,function(){var t,r,n;return o(this,function(o){switch(o.label){case 0:return[4,fetch(e+"?f=json")];case 1:return[4,o.sent().text()];case 2:return t=o.sent(),r=c.getServerRoot(e),n=function(e,t){return/^(supported\w+Format\w*)|(Keywords)|(capabilities)$/i.test(e)&&"string"==typeof t?t.split(/[,\s]+/g):"folders"===e?t.map(function(e){return{name:e,url:r+"/"+e}}):"services"===e?t.map(function(e){return{name:e.name,url:r+"/"+e.name+"/"+e.type}}):"timeExtent"===e?t.map(function(e){return new Date(e).toISOString()}):t},[2,JSON.parse(t,n)]}})})}!function(){var e=c.getServiceUrlParts();if(e){var t=document.createElement("ol");for(var r in t.classList.add("breadcrumbs"),e)if(e.hasOwnProperty(r)){var n=e[r];if(!n)continue;var o=document.createElement("li");o.classList.add("breadcrumbs__item");var a=document.createElement("a");a.classList.add("breadcrumbs__item__anchor");var i=new URL(location.href);i.searchParams.set("url",n),a.href=i.toString(),a.innerText=r,o.appendChild(a),t.appendChild(o)}document.body.appendChild(t)}}(),n(i,void 0,void 0,function(){var e,t,r,n,a,i;return o(this,function(o){switch(o.label){case 0:return e=new URLSearchParams(location.search),(t=e.get("url"))?((r=document.querySelector("form > input[name='url']"))&&(r.value=t),/\/\w+Server(\/\d+)?\/?$/i.test(t)?[4,s(t)]:[3,2]):[2];case 1:return a=o.sent(),(n=l(a))&&document.body.appendChild(n),[3,4];case 2:return[4,s(t)];case 3:a=o.sent(),i=function(e){var t=document.createDocumentFragment(),r=document.createElement("dl");for(var n in e)if(e.hasOwnProperty(n)){var o=e[n],a=document.createElement("dt");a.innerText=n;var i=document.createElement("dd"),c=l(o,n);r.appendChild(a),c&&i.appendChild(c),r.appendChild(i)}return t.append(r),t}(a),document.body.appendChild(i),o.label=4;case 4:return[2]}})})},function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,a=r.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(n=a.next()).done;)i.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(o)throw o.error}}return i};Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){function t(t,r){var n=e.call(this,"Unexpected URL format. "+t+" does not match "+r)||this;return n.url=t,n.expectedFormat=r,n}return o(t,e),t}(Error);function c(){return new URLSearchParams(location.search).get("url")}t.UnexpectedUrlFormatError=i,t.getServerRoot=function(e){void 0===e&&(e=c());var t=/^.+\/arcgis\/rest(\/services)/,r=e.match(t);if(!r)throw new i(e,t);return 1===r.length?new URL("services",r[0]).toString():r[0]},t.getServiceUrl=function(e){void 0===e&&(e=c());var t=/^.+\/arcgis\/rest\/services(?:\/\w+){1,2}\/(?:\w+Server)/i,r=e.match(t);if(!r)throw new i(e,t);return r[0]},t.getServiceUrlParts=function(e){if(void 0===e&&(e=c()),!e)return null;var t=/(^.+\/arcgis\/rest\/services)(?:(?:\/)(?:(\w+)\/)?(\w+)\/(\w+Server)(?:\/(\d+))?)?/,r=e.match(t);if(!r)throw new i(e,t);var n=a(r,6),o=n[1],u=n[2],l=n[3],s=n[4],d=n[5],f=l?o+"/"+(u?[u,l].join("/"):l)+"/"+s:null;return{root:o,folder:u?o+"/"+u:null,service:f,layer:f&&d?f+"/"+d:null}}}]);